# SSTS Environment Configuration
# Copy this file to .env and update values as needed

# Application Configuration
SSTS_LOG_LEVEL=info
SSTS_LOG_FORMAT=json
SSTS_DEBUG=false

# Server Configuration
SSTS_SERVER_ADDRESS=0.0.0.0
SSTS_SERVER_PORT=8080
SSTS_SERVER_READ_TIMEOUT=30s
SSTS_SERVER_WRITE_TIMEOUT=30s

# Database Configuration
SSTS_DATABASE_TYPE=postgres
SSTS_DATABASE_HOST=postgres
SSTS_DATABASE_PORT=5432
SSTS_DATABASE_USERNAME=ssts
SSTS_DATABASE_PASSWORD=ssts_password
SSTS_DATABASE_DATABASE=ssts
SSTS_DATABASE_SSL_MODE=disable
SSTS_DATABASE_MAX_OPEN_CONNS=25
SSTS_DATABASE_MAX_IDLE_CONNS=5

# InfluxDB Configuration
SSTS_INFLUXDB_URL=http://influxdb:8086
SSTS_INFLUXDB_TOKEN=admin-token
SSTS_INFLUXDB_ORG=ssts
SSTS_INFLUXDB_BUCKET=metrics
SSTS_INFLUXDB_TIMEOUT=30s

# Redis Configuration
SSTS_REDIS_ADDRESS=redis:6379
SSTS_REDIS_PASSWORD=
SSTS_REDIS_DB=0
SSTS_REDIS_POOL_SIZE=10

# Authentication Configuration
SSTS_AUTH_ENABLED=false
SSTS_JWT_SECRET=your-super-secret-jwt-key-change-this
SSTS_TOKEN_EXPIRY=24h
SSTS_REFRESH_EXPIRY=168h

# Safety Configuration
SSTS_SAFETY_MAX_CPU_PERCENT=80.0
SSTS_SAFETY_MAX_MEMORY_PERCENT=70.0
SSTS_SAFETY_MAX_DISK_PERCENT=90.0
SSTS_SAFETY_EMERGENCY_STOP_THRESHOLD=95.0
SSTS_SAFETY_MONITORING_INTERVAL=1s
SSTS_SAFETY_AUTO_STOP_ENABLED=true

# Metrics Configuration
SSTS_METRICS_ENABLED=true
SSTS_METRICS_COLLECTION_INTERVAL=1s
SSTS_METRICS_BATCH_SIZE=1000
SSTS_METRICS_FLUSH_INTERVAL=5s

# CORS Configuration
SSTS_CORS_ALLOW_ORIGINS=*
SSTS_CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
SSTS_CORS_ALLOW_HEADERS=*

# TLS Configuration (for production)
SSTS_TLS_ENABLED=false
SSTS_TLS_CERT_FILE=/path/to/cert.pem
SSTS_TLS_KEY_FILE=/path/to/key.pem

# External Service URLs (for production)
SSTS_EXTERNAL_POSTGRES_URL=
SSTS_EXTERNAL_INFLUXDB_URL=
SSTS_EXTERNAL_REDIS_URL=

# Monitoring Configuration
PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3000
GRAFANA_USERNAME=admin
GRAFANA_PASSWORD=admin

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=

# Alerting Configuration
ALERT_ENABLED=true
ALERT_WEBHOOK_URL=
ALERT_EMAIL_SMTP_HOST=
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=
ALERT_EMAIL_PASSWORD=
ALERT_EMAIL_FROM=noreply@ssts.local
ALERT_EMAIL_TO=admin@ssts.local

# Development Configuration
DEV_MOCK_EXTERNAL_SERVICES=false
DEV_ENABLE_DEBUG_ENDPOINTS=false
DEV_AUTO_MIGRATE=true

# Production Configuration
PROD_STRICT_TLS=true
PROD_ENABLE_AUDIT_LOG=true
PROD_MAX_REQUEST_SIZE=50MB
PROD_RATE_LIMIT_ENABLED=true
PROD_RATE_LIMIT_REQUESTS_PER_MINUTE=100

# Kubernetes Configuration
K8S_NAMESPACE=ssts
K8S_CLUSTER_NAME=production
K8S_INGRESS_CLASS=nginx
K8S_STORAGE_CLASS=gp2

# CI/CD Configuration
CI_REGISTRY=ghcr.io
CI_IMAGE_NAME=ssts/ssts
CI_BUILD_ARGS=--build-arg VERSION=${VERSION}

# Feature Flags
FEATURE_ADVANCED_METRICS=true
FEATURE_REAL_TIME_UPDATES=true
FEATURE_PLUGIN_SYSTEM=true
FEATURE_DISTRIBUTED_TESTING=false